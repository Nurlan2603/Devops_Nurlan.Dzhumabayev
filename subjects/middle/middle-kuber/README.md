# middle-kuber

<img src="kuber.png" width="500">

Kubernetes — это портативная расширяемая платформа с открытым исходным кодом для управления контейнерами и сервисами. Кубер упрощает настройку и автоматизацию. Он имеет большую, быстрорастущую экосистему.

Название Kubernetes происходит от греческого языка, что означает "рулевой" или "пилот". K8s как аббревиатура является результатом подсчета восьми букв между "K" и "s". Google опубликовал исходный код Kubernetes в 2014 году.

## Вернемся в прошлое

Для того, чтобы понять в чем польза Kubernetes, нужно вернуться в прошлое и посмотреть как разворачивали проекты.

### Эпоха традиционного развертывания

Раньше организации запускали приложения на физических серверах. Не было возможности ограничить ресурсы для приложений на физическом сервере, и это вызывало проблемы с распределением ресурсов.
Например, если на физическом сервере работает несколько приложений, могут быть случаи, когда одно приложение будет занимать большую часть ресурсов, в результате чего другие приложения будут работать хуже. Решением для этого может быть запуск каждого приложения на другом физическом сервере. Но такой путь не масштабируется, так как в таком случае ресурсы сервера будут простаивать для нетребовательных приложений, а организациям было дорого поддерживать большое количество физических серверов.

### Эпоха виртуализации

Следующей ступенью запуска проектов, было разделение приложений через виртуализацию.
Это позволяет запускать несколько виртуальных машин (ВМ) на одном процессоре физического сервера. Виртуализация позволяет изолировать приложения между виртуальными машинами и обеспечивает безопасность, так как не будет прямого доступа из одной ВМ в другую.

Виртуализация позволяет лучше использовать ресурсы физического сервера и обеспечивает лучшую масштабируемость, поскольку приложения можно легко добавлять или обновлять, снижать затраты на оборудование.

Каждая виртуальная машина представляет собой полноценную машину со всеми компонентами, включая собственную операционную систему, поверх виртуализированного оборудования.

### Эпоха контейнеров

Контейнеры похожи на виртуальные машины, но запускаются на одной операционной системе (ОС). Контейнеры считаются легкими. Как и у виртуальной машины, у контейнера есть собственная файловая система, доля процессора, памяти, пространства процессов. Поскольку они не связаны с базовой инфраструктурой, их можно переносить между облаками и разными ОС.

## Зачем нужен Kubernetes и что он делает

Контейнеры — это хороший способ объединения и запуска ваших приложений. В боевой среде необходимо управлять контейнерами, в которых запущены приложения, и обеспечивать отсутствие простоев (англ. "downtime"). Например, если контейнер выходит из строя, необходимо запустить новый контейнер. Было бы проще, если бы такое поведение обрабатывалось системой.

Вот тут Kubernetes приходит на помощь! Kubernetes предоставляет платформу для отказоустойчивой работы распределенных систем. Он заботится о масштабировании и аварийном переключении вашего приложения, предоставляет шаблоны развертывания. Например, Kubernetes может легко управлять канареечным развертыванием вашей системы.

Kubernetes предоставляет:

- Обнаружение служб и балансировка нагрузки. Kubernetes может сделать контейнер доступным для других, используя DNS-имя или собственный IP-адрес. Если трафик к контейнеру высок, Kubernetes может сбалансировать нагрузку и распределить сетевой трафик, чтобы приложение работало стабильно.
- Оркестрация хранения. Kubernetes позволяет автоматически монтировать систему хранения по вашему выбору, например, локальные хранилища, общедоступные облачные сервисы и т.д.
- Автоматические развертывания и откаты. Вы можете описать желаемое состояние развернутых контейнеров с помощью Kubernetes, и оно может изменить фактическое состояние на желаемое с контролируемой скоростью.
- Самоисцеление. Kubernetes перезапускает контейнеры, которые выходят из строя, заменяет контейнеры, убивает контейнеры, которые не реагируют на проверку работоспособности, и делает контейнер доступным, когда он будет готов к работе.
- Управление секретами и конфигурациями. Kubernetes позволяет хранить и управлять конфиденциальной информацией, такой как пароли, токены OAuth и ключи SSH. Вы можете развертывать и обновлять секреты и конфигурацию приложений, не перестраивая образы контейнеров и не раскрывая секреты в конфигурации.

### Полезное

- [kubernetes.io](https://kubernetes.io/)
- [Документация Kubernetes](https://kubernetes.io/docs/home/)
